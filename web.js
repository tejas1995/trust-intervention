(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{o:()=>o});let e="https://tejassrinivasan.pythonanywhere.com/";var o=!1,n=[];let i,r,s,a,c=-1,l=null,u=null,d=0,_=1,h=0,b=0;function g(t){h+=t,0==h?$("#button_instructions_prev").attr("disabled","true"):$("#button_instructions_prev").removeAttr("disabled"),h>=5?($("#instructions_and_decorations").show(),$("#button_instructions_next").val("Start study")):($("#instructions_and_decorations").hide(),$("#button_instructions_next").val("Next")),6==h&&($("#main_box_instructions").hide(),$("#main_box_experiment").show(),m()),$("#main_box_instructions").children(":not(input)").each(((t,e)=>{$(e).hide()})),$(`#instructions_${h}`).show()}function p(t){s=Date.now(),u=t,t?($("#button_decision_correct").attr("activedecision","true"),$("#button_decision_incorrect").removeAttr("activedecision")):($("#button_decision_correct").removeAttr("activedecision"),$("#button_decision_incorrect").attr("activedecision","true")),$("#how_confident_div").show()}function m(){if($("#button_decision_incorrect").removeAttr("activedecision"),$("#button_decision_correct").removeAttr("activedecision"),$("#button_decision_incorrect").removeAttr("disabled"),$("#button_decision_correct").removeAttr("disabled"),$("#range_val").removeAttr("disabled"),$("#how_confident_div").hide(),$("#button_place_bet").hide(),$("#button_next").hide(),$("#result_span").hide(),$("#range_text").text("-"),$("#range_val").val(3),c+=1,c>=n.length)return $("#main_box_experiment").hide(),void(o?$("#main_box_end_mock").show():$("#main_box_end").show());if(l=n[c],$("#question_span").html(l.question),$("#answer_span").html(l.answer),$("#confidence_span").html(l.ai_confidence),l.hasOwnProperty("reward_ratio")){let[t,e]=l.reward_ratio;t=Number(t),e=Number(e),_=t/e}else _=1;r=Date.now(),$("#progress").text(`Progress: ${c+1} / ${n.length}`)}$("#button_instructions_next").on("click",(()=>g(1))),$("#button_instructions_prev").on("click",(()=>g(-1))),$("#button_next").on("click",(()=>{if(-1!=c){let t={question_i:c,user_balance:d,user_bet_val:i,user_decision:u};t.times={decision:s-r,bet:a-s,next:Date.now()-a},t.question=l,t.count_exited_page=b,async function(t){if(o)console.log("logged (mock)",t);else{t.url_data=globalThis.url_data,"study_id"in t&&(t.study_id="trialrun_studies"),console.log("logged",t),console.log("Logging to",e+"log");try{return await $.ajax(e+"log",{data:JSON.stringify({project:"trust-intervention/"+t.url_data.study_id,uid:globalThis.uid,payload:JSON.stringify(t)}),type:"POST",contentType:"application/json"})}catch(t){console.log(t)}}}(t),b=0}m()})),$("#range_val").on("input change",(function(){i=$(this).val()/5*.1,$("#range_text").text(`If you are right, you get $${(i*_).toFixed(2)}. If you are wrong, you lose $${(i/1).toFixed(2)}.`),$("#button_place_bet").show()})),$("#button_decision_correct").on("click",(()=>p(!0))),$("#button_decision_incorrect").on("click",(()=>p(!1))),$("#button_place_bet").on("click",(function(){a=Date.now();let t,e="You guessed that the system was ";u?(e+="<span class='color_correct'>correct</span> ",l.ai_is_correct?(e+="and the system was <span class='color_correct'>correct</span>.",t=!0):(e+="but the system was <span class='color_incorrect'>not correct</span>.",t=!1)):(e+="<span class='color_incorrect'>incorrect</span> ",l.ai_is_correct?(e+="but the system was <span class='color_correct'>correct</span>.",t=!1):(e+="and the system was <span class='color_incorrect'>not correct</span>.",t=!0)),e+="<br>",t?(e+=`You gain $${(i*_).toFixed(2)}.`,d+=i*_):(e+=`You lose $${(i/1).toFixed(2)}.`,d-=i/1,d=Math.max(0,d)),$("#balance").text(`Balance: $${d.toFixed(2)} + $0.5`),$("#result_span").html(e),$("#button_next").show(),$("#result_span").show(),$("#button_place_bet").hide(),$("#range_val").attr("disabled","true"),$("#button_decision_incorrect").attr("disabled","true"),$("#button_decision_correct").attr("disabled","true")}));const w=new URLSearchParams(window.location.search),v=w.get("start"),y=w.get("uid");if(globalThis.url_data=function(t){const e={};for(const[o,n]of t)e[o]=n;return e}(w.entries()),null!=y){if(globalThis.uid=y,"prolific_random"==globalThis.uid){let t=`${Math.floor(10*Math.random())}`.padStart(3,"0");globalThis.uid=`${w.get("prolific_queue_name")}_${t}`}}else{let t=null;for(;null==t;)t=prompt("Enter your user id. Please get in touch if you were not assigned an id but wish to participate in this experiment.");globalThis.uid=t}globalThis.uid.startsWith("demo_paper")&&(o=!0),console.log("Running with UID",globalThis.uid),async function(){return await $.getJSON(`baked_queues/${globalThis.uid}.json?t=${Date.now()}`)}().catch((t=>{alert("Invalid user id."),console.log("Invalid user id."),console.log(globalThis.uid),window.location.reload()})).then((t=>{n=t,null!=v&&(c=parseInt(v)-1,console.log("Starting from",c)),g(0),$("#main_box_instructions").show(),$("#instructions_and_decorations").hide()})),console.log("Starting session with UID:",globalThis.uid);let f=!1;document.onvisibilitychange=()=>{f||(b+=1,f=!0,alert("Please don't leave the page. If you do so again, we may restrict paying you."),f=!1)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBZVYsRUFBVU8sV0FFN0IsTUFBZEQsR0FFQSxHQURBeEIsV0FBV00sSUFBTWtCLEVBQ0ssbUJBQWxCeEIsV0FBV00sSUFBMEIsQ0FDckMsSUFBSXVCLEVBQVcsR0FBR2IsS0FBS2MsTUFBc0IsR0FBaEJkLEtBQUtlLFlBQWlCQyxTQUFTLEVBQUcsS0FDL0RoQyxXQUFXTSxJQUFNLEdBQUdZLEVBQVVsRSxJQUFJLDBCQUEwQjZFLEcsTUFJN0QsQ0FDSCxJQUFJSSxFQUFpQixLQUNyQixLQUFvQixNQUFiQSxHQUNIQSxFQUFZQyxPQUFPLHNIQUV2QmxDLFdBQVdNLElBQU0yQixDLENBSWpCakMsV0FBV00sSUFBSTZCLFdBQVcsZ0JBQzFCNUUsR0FBVyxHQUlmdUMsUUFBUUMsSUFBSSxtQkFBb0JDLFdBQVdNLEtEOU1wQ1QsaUJBS0gsYUFIbUJ2QixFQUFFOEQsUUFDakIsZ0JBQWdCcEMsV0FBV00sY0FBY25CLEtBQUtDLFFBR3RELENDeU1BaUQsR0FBWUMsT0FBT0MsSUFDZkMsTUFBTSxvQkFDTjFDLFFBQVFDLElBQUksb0JBQ1pELFFBQVFDLElBQUlDLFdBQVdNLEtBQ3ZCYyxPQUFPQyxTQUFTb0IsUUFBUSxJQUUxQkMsTUFBTUMsSUFDSm5GLEVBQU9tRixFQUNjLE1BQWpCcEIsSUFDQTFELEVBQWErRSxTQUFTckIsR0FBaUIsRUFDdkN6QixRQUFRQyxJQUFJLGdCQUFpQmxDLElBR2pDTyxFQUFrQixHQUNsQkUsRUFBRSwwQkFBMEJHLE9BQzVCSCxFQUFFLGlDQUFpQ0ssTUFBTSxJQUc3Q21CLFFBQVFDLElBQUksNkJBQThCQyxXQUFXTSxLQUVyRCxJQUFJdUMsR0FBZSxFQUNuQkMsU0FBU0MsbUJBQXFCLEtBQ3JCRixJQUNEMUUsR0FBcUIsRUFDckIwRSxHQUFlLEVBQ2ZMLE1BQU0sZ0ZBQ05LLEdBQWUsRSIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy8uL3NyYy9jb25uZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgREVWTU9ERSB9IGZyb20gJy4vZ2xvYmFscydcbmltcG9ydCB7IE1PQ0tNT0RFIH0gZnJvbSAnLi9tYWluJ1xuXG5sZXQgU0VSVkVSX0xPR19ST09UID0gREVWTU9ERSA/IFwiaHR0cDovLzEyNy4wLjAuMTo1MDAwL1wiIDogXCJodHRwczovL3RlamFzc3Jpbml2YXNhbi5weXRob25hbnl3aGVyZS5jb20vXCJcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRfZGF0YSgpOiBQcm9taXNlPGFueT4ge1xuICAgIC8vIGluY2x1ZGUgdGltZXN0YW1wIHNvIHRoYXQgdGhpbmdzIGRvbid0IGdldCBjYWNoZWRcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgJC5nZXRKU09OKFxuICAgICAgICBgYmFrZWRfcXVldWVzLyR7Z2xvYmFsVGhpcy51aWR9Lmpzb24/dD0ke0RhdGUubm93KCl9YCxcbiAgICApXG4gICAgcmV0dXJuIHJlc3VsdFxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ19kYXRhKGRhdGEpOiBQcm9taXNlPGFueT4ge1xuICAgIGlmIChNT0NLTU9ERSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImxvZ2dlZCAobW9jaylcIiwgZGF0YSlcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIFxuICAgIGRhdGFbXCJ1cmxfZGF0YVwiXSA9IGdsb2JhbFRoaXMudXJsX2RhdGFcbiAgICBpZiAoXCJzdHVkeV9pZFwiIGluIGRhdGEpIHtcbiAgICAgICAgZGF0YVtcInN0dWR5X2lkXCJdID0gXCJ0cmlhbHJ1bl9zdHVkaWVzXCJcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJsb2dnZWRcIiwgZGF0YSlcbiAgICBjb25zb2xlLmxvZyhcIkxvZ2dpbmcgdG9cIiwgU0VSVkVSX0xPR19ST09UICsgXCJsb2dcIilcblxuICAgIHRyeSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICBTRVJWRVJfTE9HX1JPT1QgKyBcImxvZ1wiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCJ0cnVzdC1pbnRlcnZlbnRpb24vXCIrZGF0YVsndXJsX2RhdGEnXVsnc3R1ZHlfaWQnXSxcbiAgICAgICAgICAgICAgICAgICAgdWlkOiBnbG9iYWxUaGlzLnVpZCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG59IiwiaW1wb3J0IHsgREVWTU9ERSB9IGZyb20gXCIuL2dsb2JhbHNcIlxuZXhwb3J0IHZhciBVSUQ6IHN0cmluZ1xuZXhwb3J0IHZhciBNT0NLTU9ERTogYm9vbGVhbiA9IGZhbHNlXG5pbXBvcnQgeyBsb2FkX2RhdGEsIGxvZ19kYXRhIH0gZnJvbSAnLi9jb25uZWN0b3InXG5pbXBvcnQgeyBwYXJhbXNUb09iamVjdCB9IGZyb20gXCIuL3V0aWxzXCJcblxudmFyIGRhdGE6IGFueVtdID0gW11cbmxldCBxdWVzdGlvbl9pID0gLTFcbmxldCBxdWVzdGlvbjogYW55ID0gbnVsbFxubGV0IHVzZXJfZGVjaXNpb246IG51bGwgfCBib29sZWFuID0gbnVsbFxubGV0IGJhbGFuY2UgPSAwXG5sZXQgYmV0X3ZhbDogbnVtYmVyXG5sZXQgYmV0X3ZhbF9yYXRpbzogbnVtYmVyID0gMVxubGV0IHRpbWVfcXVlc3Rpb25fc3RhcnQ6IG51bWJlclxubGV0IHRpbWVfYmV0X3N0YXJ0OiBudW1iZXJcbmxldCB0aW1lX3Nob3dlZF9yZXN1bHRzX3N0YXJ0OiBudW1iZXJcbmxldCBpbnN0cnVjdGlvbl9pOiBudW1iZXIgPSAwXG5sZXQgY291bnRfZXhpdGVkX3BhZ2U6IG51bWJlciA9IDBcblxuZnVuY3Rpb24gbmV4dF9pbnN0cnVjdGlvbnMoaW5jcmVtZW50OiBudW1iZXIpIHtcbiAgICBpbnN0cnVjdGlvbl9pICs9IGluY3JlbWVudFxuXG4gICAgaWYgKGluc3RydWN0aW9uX2kgPT0gMCkge1xuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfcHJldlwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX3ByZXZcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgfVxuICAgIGlmIChpbnN0cnVjdGlvbl9pID49IDUpIHtcbiAgICAgICAgJChcIiNpbnN0cnVjdGlvbnNfYW5kX2RlY29yYXRpb25zXCIpLnNob3coKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS52YWwoXCJTdGFydCBzdHVkeVwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5oaWRlKClcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikudmFsKFwiTmV4dFwiKVxuICAgIH1cbiAgICBpZiAoaW5zdHJ1Y3Rpb25faSA9PSA2KSB7XG4gICAgICAgICQoXCIjbWFpbl9ib3hfaW5zdHJ1Y3Rpb25zXCIpLmhpZGUoKVxuICAgICAgICAkKFwiI21haW5fYm94X2V4cGVyaW1lbnRcIikuc2hvdygpXG4gICAgICAgIG5leHRfcXVlc3Rpb24oKVxuICAgIH1cblxuICAgICQoXCIjbWFpbl9ib3hfaW5zdHJ1Y3Rpb25zXCIpLmNoaWxkcmVuKFwiOm5vdChpbnB1dClcIikuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgICAgJChlbCkuaGlkZSgpXG4gICAgfSlcbiAgICAkKGAjaW5zdHJ1Y3Rpb25zXyR7aW5zdHJ1Y3Rpb25faX1gKS5zaG93KClcbn1cbiQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbmV4dF9pbnN0cnVjdGlvbnMoKzEpKVxuJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX3ByZXZcIikub24oXCJjbGlja1wiLCAoKSA9PiBuZXh0X2luc3RydWN0aW9ucygtMSkpXG5cbiQoXCIjYnV0dG9uX25leHRcIikub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaWYgKHF1ZXN0aW9uX2kgIT0gLTEpIHtcbiAgICAgICAgbGV0IGxvZ2dlZF9kYXRhID0ge1xuICAgICAgICAgICAgXCJxdWVzdGlvbl9pXCI6IHF1ZXN0aW9uX2ksXG4gICAgICAgICAgICBcInVzZXJfYmFsYW5jZVwiOiBiYWxhbmNlLFxuICAgICAgICAgICAgXCJ1c2VyX2JldF92YWxcIjogYmV0X3ZhbCxcbiAgICAgICAgICAgIFwidXNlcl9kZWNpc2lvblwiOiB1c2VyX2RlY2lzaW9uLFxuICAgICAgICB9XG5cbiAgICAgICAgbG9nZ2VkX2RhdGFbJ3RpbWVzJ10gPSB7XG4gICAgICAgICAgICBcImRlY2lzaW9uXCI6IHRpbWVfYmV0X3N0YXJ0IC0gdGltZV9xdWVzdGlvbl9zdGFydCxcbiAgICAgICAgICAgIFwiYmV0XCI6IHRpbWVfc2hvd2VkX3Jlc3VsdHNfc3RhcnQgLSB0aW1lX2JldF9zdGFydCxcbiAgICAgICAgICAgIFwibmV4dFwiOiBEYXRlLm5vdygpIC0gdGltZV9zaG93ZWRfcmVzdWx0c19zdGFydFxuICAgICAgICB9XG4gICAgICAgIGxvZ2dlZF9kYXRhWydxdWVzdGlvbiddID0gcXVlc3Rpb25cbiAgICAgICAgbG9nZ2VkX2RhdGFbJ2NvdW50X2V4aXRlZF9wYWdlJ10gPSBjb3VudF9leGl0ZWRfcGFnZVxuICAgICAgICBsb2dfZGF0YShsb2dnZWRfZGF0YSlcbiAgICAgICAgY291bnRfZXhpdGVkX3BhZ2UgPSAwXG4gICAgfVxuICAgIG5leHRfcXVlc3Rpb24oKVxufSk7XG5cbiQoJyNyYW5nZV92YWwnKS5vbignaW5wdXQgY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIGJldF92YWwgPSAoJCh0aGlzKS52YWwoKSEgYXMgbnVtYmVyKSAvIDUgKiAwLjFcbiAgICAkKFwiI3JhbmdlX3RleHRcIikudGV4dChgSWYgeW91IGFyZSByaWdodCwgeW91IGdldCAkJHsoYmV0X3ZhbCpiZXRfdmFsX3JhdGlvKS50b0ZpeGVkKDIpfS4gSWYgeW91IGFyZSB3cm9uZywgeW91IGxvc2UgJCR7KGJldF92YWwvMS4wKS50b0ZpeGVkKDIpfS5gKVxuICAgICQoXCIjYnV0dG9uX3BsYWNlX2JldFwiKS5zaG93KClcbn0pO1xuXG5mdW5jdGlvbiBmbGlwX3VzZXJfZGVjaXNpb24oY29ycmVjdCkge1xuICAgIHRpbWVfYmV0X3N0YXJ0ID0gRGF0ZS5ub3coKVxuICAgIHVzZXJfZGVjaXNpb24gPSBjb3JyZWN0XG4gICAgaWYgKGNvcnJlY3QpIHtcbiAgICAgICAgJChcIiNidXR0b25fZGVjaXNpb25fY29ycmVjdFwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2RlY2lzaW9uX2luY29ycmVjdFwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI2J1dHRvbl9kZWNpc2lvbl9jb3JyZWN0XCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9kZWNpc2lvbl9pbmNvcnJlY3RcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgIH1cbiAgICAkKFwiI2hvd19jb25maWRlbnRfZGl2XCIpLnNob3coKVxufVxuXG4kKFwiI2J1dHRvbl9kZWNpc2lvbl9jb3JyZWN0XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gZmxpcF91c2VyX2RlY2lzaW9uKHRydWUpKVxuJChcIiNidXR0b25fZGVjaXNpb25faW5jb3JyZWN0XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gZmxpcF91c2VyX2RlY2lzaW9uKGZhbHNlKSlcblxuZnVuY3Rpb24gc2hvd19yZXN1bHQoKSB7XG4gICAgdGltZV9zaG93ZWRfcmVzdWx0c19zdGFydCA9IERhdGUubm93KClcblxuICAgIGxldCBtZXNzYWdlID0gXCJZb3UgZ3Vlc3NlZCB0aGF0IHRoZSBzeXN0ZW0gd2FzIFwiXG4gICAgbGV0IHN1Y2Nlc3M6IGJvb2xlYW5cbiAgICBpZiAodXNlcl9kZWNpc2lvbikge1xuICAgICAgICBtZXNzYWdlICs9IFwiPHNwYW4gY2xhc3M9J2NvbG9yX2NvcnJlY3QnPmNvcnJlY3Q8L3NwYW4+IFwiXG4gICAgICAgIGlmIChxdWVzdGlvbiFbXCJhaV9pc19jb3JyZWN0XCJdKSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9IFwiYW5kIHRoZSBzeXN0ZW0gd2FzIDxzcGFuIGNsYXNzPSdjb2xvcl9jb3JyZWN0Jz5jb3JyZWN0PC9zcGFuPi5cIlxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCJidXQgdGhlIHN5c3RlbSB3YXMgPHNwYW4gY2xhc3M9J2NvbG9yX2luY29ycmVjdCc+bm90IGNvcnJlY3Q8L3NwYW4+LlwiXG4gICAgICAgICAgICBzdWNjZXNzID0gZmFsc2VcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gXCI8c3BhbiBjbGFzcz0nY29sb3JfaW5jb3JyZWN0Jz5pbmNvcnJlY3Q8L3NwYW4+IFwiXG4gICAgICAgIGlmICghcXVlc3Rpb24hW1wiYWlfaXNfY29ycmVjdFwiXSkge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBcImFuZCB0aGUgc3lzdGVtIHdhcyA8c3BhbiBjbGFzcz0nY29sb3JfaW5jb3JyZWN0Jz5ub3QgY29ycmVjdDwvc3Bhbj4uXCJcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9IFwiYnV0IHRoZSBzeXN0ZW0gd2FzIDxzcGFuIGNsYXNzPSdjb2xvcl9jb3JyZWN0Jz5jb3JyZWN0PC9zcGFuPi5cIlxuICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVzc2FnZSArPSBcIjxicj5cIlxuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gYFlvdSBnYWluICQkeyhiZXRfdmFsKmJldF92YWxfcmF0aW8pLnRvRml4ZWQoMil9LmBcbiAgICAgICAgYmFsYW5jZSArPSBiZXRfdmFsKmJldF92YWxfcmF0aW9cbiAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlICs9IGBZb3UgbG9zZSAkJHsoYmV0X3ZhbC8xLjApLnRvRml4ZWQoMil9LmBcbiAgICAgICAgYmFsYW5jZSAtPSBiZXRfdmFsLzEuMFxuICAgICAgICBiYWxhbmNlID0gTWF0aC5tYXgoMCwgYmFsYW5jZSlcbiAgICB9XG4gICAgJChcIiNiYWxhbmNlXCIpLnRleHQoYEJhbGFuY2U6ICQke2JhbGFuY2UudG9GaXhlZCgyKX0gKyAkMC41YClcbiAgICAkKFwiI3Jlc3VsdF9zcGFuXCIpLmh0bWwobWVzc2FnZSlcbiAgICAkKFwiI2J1dHRvbl9uZXh0XCIpLnNob3coKVxuICAgICQoXCIjcmVzdWx0X3NwYW5cIikuc2hvdygpXG4gICAgJChcIiNidXR0b25fcGxhY2VfYmV0XCIpLmhpZGUoKVxuXG4gICAgJCgnI3JhbmdlX3ZhbCcpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9kZWNpc2lvbl9pbmNvcnJlY3RcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2RlY2lzaW9uX2NvcnJlY3RcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxufVxuXG4kKFwiI2J1dHRvbl9wbGFjZV9iZXRcIikub24oXCJjbGlja1wiLCBzaG93X3Jlc3VsdClcblxuZnVuY3Rpb24gbmV4dF9xdWVzdGlvbigpIHtcbiAgICAvLyByZXN0b3JlIHByZXZpb3VzIHN0YXRlIG9mIFVJXG4gICAgJChcIiNidXR0b25fZGVjaXNpb25faW5jb3JyZWN0XCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2RlY2lzaW9uX2NvcnJlY3RcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25fZGVjaXNpb25faW5jb3JyZWN0XCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2RlY2lzaW9uX2NvcnJlY3RcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJCgnI3JhbmdlX3ZhbCcpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjaG93X2NvbmZpZGVudF9kaXZcIikuaGlkZSgpXG4gICAgJChcIiNidXR0b25fcGxhY2VfYmV0XCIpLmhpZGUoKVxuICAgICQoXCIjYnV0dG9uX25leHRcIikuaGlkZSgpXG4gICAgJChcIiNyZXN1bHRfc3BhblwiKS5oaWRlKClcbiAgICAkKFwiI3JhbmdlX3RleHRcIikudGV4dChcIi1cIilcbiAgICAkKFwiI3JhbmdlX3ZhbFwiKS52YWwoMylcblxuICAgIHF1ZXN0aW9uX2kgKz0gMVxuICAgIGlmIChxdWVzdGlvbl9pID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICQoXCIjbWFpbl9ib3hfZXhwZXJpbWVudFwiKS5oaWRlKClcbiAgICAgICAgaWYgKE1PQ0tNT0RFKSB7XG4gICAgICAgICAgICAkKFwiI21haW5fYm94X2VuZF9tb2NrXCIpLnNob3coKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChcIiNtYWluX2JveF9lbmRcIikuc2hvdygpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHF1ZXN0aW9uID0gZGF0YVtxdWVzdGlvbl9pXVxuXG4gICAgJChcIiNxdWVzdGlvbl9zcGFuXCIpLmh0bWwocXVlc3Rpb24hW1wicXVlc3Rpb25cIl0pXG4gICAgJChcIiNhbnN3ZXJfc3BhblwiKS5odG1sKHF1ZXN0aW9uIVtcImFuc3dlclwiXSlcbiAgICAkKFwiI2NvbmZpZGVuY2Vfc3BhblwiKS5odG1sKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0pXG5cbiAgICAvLyBzZXQgYmV0IHZhbHVlIHJhdGlvXG4gICAgaWYocXVlc3Rpb24uaGFzT3duUHJvcGVydHkoXCJyZXdhcmRfcmF0aW9cIikpIHtcbiAgICAgICAgbGV0IFtyYXRpbzEsIHJhdGlvMl0gPSBxdWVzdGlvbltcInJld2FyZF9yYXRpb1wiXVxuICAgICAgICByYXRpbzEgPSBOdW1iZXIocmF0aW8xKVxuICAgICAgICByYXRpbzIgPSBOdW1iZXIocmF0aW8yKVxuICAgICAgICBiZXRfdmFsX3JhdGlvID0gcmF0aW8xL3JhdGlvMlxuICAgIH0gZWxzZSB7XG4gICAgICAgIGJldF92YWxfcmF0aW8gPSAxXG4gICAgfVxuXG4gICAgdGltZV9xdWVzdGlvbl9zdGFydCA9IERhdGUubm93KClcbiAgICAkKFwiI3Byb2dyZXNzXCIpLnRleHQoYFByb2dyZXNzOiAke3F1ZXN0aW9uX2kgKyAxfSAvICR7ZGF0YS5sZW5ndGh9YClcbn1cblxuLy8gZ2V0IHVzZXIgaWQgYW5kIGxvYWQgcXVldWVcbi8vIHRyeSB0byBzZWUgaWYgc3RhcnQgb3ZlcnJpZGUgd2FzIHBhc3NlZFxuY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbmNvbnN0IHN0YXJ0T3ZlcnJpZGUgPSB1cmxQYXJhbXMuZ2V0KCdzdGFydCcpO1xuY29uc3QgVUlERnJvbVVSTCA9IHVybFBhcmFtcy5nZXQoXCJ1aWRcIilcbmdsb2JhbFRoaXMudXJsX2RhdGEgPSBwYXJhbXNUb09iamVjdCh1cmxQYXJhbXMuZW50cmllcygpKVxuXG5pZiAoVUlERnJvbVVSTCAhPSBudWxsKSB7XG4gICAgZ2xvYmFsVGhpcy51aWQgPSBVSURGcm9tVVJMIGFzIHN0cmluZ1xuICAgIGlmIChnbG9iYWxUaGlzLnVpZCA9PSBcInByb2xpZmljX3JhbmRvbVwiKSB7XG4gICAgICAgIGxldCBxdWV1ZV9pZCA9IGAke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKX1gLnBhZFN0YXJ0KDMsIFwiMFwiKVxuICAgICAgICBnbG9iYWxUaGlzLnVpZCA9IGAke3VybFBhcmFtcy5nZXQoXCJwcm9saWZpY19xdWV1ZV9uYW1lXCIpfV8ke3F1ZXVlX2lkfWBcbiAgICB9XG59IGVsc2UgaWYgKERFVk1PREUpIHtcbiAgICBnbG9iYWxUaGlzLnVpZCA9IFwiZGVtb1wiXG59IGVsc2Uge1xuICAgIGxldCBVSURfbWF5YmU6IGFueSA9IG51bGxcbiAgICB3aGlsZSAoVUlEX21heWJlID09IG51bGwpIHtcbiAgICAgICAgVUlEX21heWJlID0gcHJvbXB0KFwiRW50ZXIgeW91ciB1c2VyIGlkLiBQbGVhc2UgZ2V0IGluIHRvdWNoIGlmIHlvdSB3ZXJlIG5vdCBhc3NpZ25lZCBhbiBpZCBidXQgd2lzaCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGlzIGV4cGVyaW1lbnQuXCIpXG4gICAgfVxuICAgIGdsb2JhbFRoaXMudWlkID0gVUlEX21heWJlIVxufVxuXG4vLyB2ZXJzaW9uIGZvciBwYXBlclxuaWYgKGdsb2JhbFRoaXMudWlkLnN0YXJ0c1dpdGgoXCJkZW1vX3BhcGVyXCIpKSB7XG4gICAgTU9DS01PREUgPSB0cnVlXG59IGVsc2Uge1xuXG59XG5jb25zb2xlLmxvZyhcIlJ1bm5pbmcgd2l0aCBVSURcIiwgZ2xvYmFsVGhpcy51aWQpXG5sb2FkX2RhdGEoKS5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgYWxlcnQoXCJJbnZhbGlkIHVzZXIgaWQuXCIpXG4gICAgY29uc29sZS5sb2coXCJJbnZhbGlkIHVzZXIgaWQuXCIpXG4gICAgY29uc29sZS5sb2coZ2xvYmFsVGhpcy51aWQhKVxuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxufVxuKS50aGVuKChuZXdfZGF0YSkgPT4ge1xuICAgIGRhdGEgPSBuZXdfZGF0YVxuICAgIGlmIChzdGFydE92ZXJyaWRlICE9IG51bGwpIHtcbiAgICAgICAgcXVlc3Rpb25faSA9IHBhcnNlSW50KHN0YXJ0T3ZlcnJpZGUpIC0gMVxuICAgICAgICBjb25zb2xlLmxvZyhcIlN0YXJ0aW5nIGZyb21cIiwgcXVlc3Rpb25faSlcbiAgICB9XG4gICAgLy8gbmV4dF9xdWVzdGlvbigpXG4gICAgbmV4dF9pbnN0cnVjdGlvbnMoMClcbiAgICAkKFwiI21haW5fYm94X2luc3RydWN0aW9uc1wiKS5zaG93KClcbiAgICAkKFwiI2luc3RydWN0aW9uc19hbmRfZGVjb3JhdGlvbnNcIikuaGlkZSgpXG59KVxuXG5jb25zb2xlLmxvZyhcIlN0YXJ0aW5nIHNlc3Npb24gd2l0aCBVSUQ6XCIsIGdsb2JhbFRoaXMudWlkISlcblxubGV0IGFsZXJ0X2FjdGl2ZSA9IGZhbHNlXG5kb2N1bWVudC5vbnZpc2liaWxpdHljaGFuZ2UgPSAoKSA9PiB7XG4gICAgaWYgKCFhbGVydF9hY3RpdmUpIHtcbiAgICAgICAgY291bnRfZXhpdGVkX3BhZ2UgKz0gMVxuICAgICAgICBhbGVydF9hY3RpdmUgPSB0cnVlXG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIGRvbid0IGxlYXZlIHRoZSBwYWdlLiBJZiB5b3UgZG8gc28gYWdhaW4sIHdlIG1heSByZXN0cmljdCBwYXlpbmcgeW91LlwiKVxuICAgICAgICBhbGVydF9hY3RpdmUgPSBmYWxzZVxuICAgIH1cbn0iLCJmdW5jdGlvbiBwYXJhbXNUb09iamVjdChlbnRyaWVzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9XG4gIC8vIGVhY2ggJ2VudHJ5JyBpcyBhIFtrZXksIHZhbHVlXSB0dXBwbGVcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZW50cmllcykge1xuICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgcGFyYW1zVG9PYmplY3QgfSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlNFUlZFUl9MT0dfUk9PVCIsIk1PQ0tNT0RFIiwiZGF0YSIsImJldF92YWwiLCJ0aW1lX3F1ZXN0aW9uX3N0YXJ0IiwidGltZV9iZXRfc3RhcnQiLCJ0aW1lX3Nob3dlZF9yZXN1bHRzX3N0YXJ0IiwicXVlc3Rpb25faSIsInF1ZXN0aW9uIiwidXNlcl9kZWNpc2lvbiIsImJhbGFuY2UiLCJiZXRfdmFsX3JhdGlvIiwiaW5zdHJ1Y3Rpb25faSIsImNvdW50X2V4aXRlZF9wYWdlIiwibmV4dF9pbnN0cnVjdGlvbnMiLCJpbmNyZW1lbnQiLCIkIiwiYXR0ciIsInJlbW92ZUF0dHIiLCJzaG93IiwidmFsIiwiaGlkZSIsIm5leHRfcXVlc3Rpb24iLCJjaGlsZHJlbiIsImVhY2giLCJfIiwiZWwiLCJmbGlwX3VzZXJfZGVjaXNpb24iLCJjb3JyZWN0IiwiRGF0ZSIsIm5vdyIsInRleHQiLCJsZW5ndGgiLCJodG1sIiwicmF0aW8xIiwicmF0aW8yIiwiTnVtYmVyIiwib24iLCJsb2dnZWRfZGF0YSIsImFzeW5jIiwiY29uc29sZSIsImxvZyIsImdsb2JhbFRoaXMiLCJ1cmxfZGF0YSIsImFqYXgiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvamVjdCIsInVpZCIsInBheWxvYWQiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJlIiwibG9nX2RhdGEiLCJ0aGlzIiwidG9GaXhlZCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiTWF0aCIsIm1heCIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3RhcnRPdmVycmlkZSIsIlVJREZyb21VUkwiLCJlbnRyaWVzIiwicmVzdWx0IiwidmFsdWUiLCJwYXJhbXNUb09iamVjdCIsInF1ZXVlX2lkIiwiZmxvb3IiLCJyYW5kb20iLCJwYWRTdGFydCIsIlVJRF9tYXliZSIsInByb21wdCIsInN0YXJ0c1dpdGgiLCJnZXRKU09OIiwibG9hZF9kYXRhIiwiY2F0Y2giLCJfZXJyb3IiLCJhbGVydCIsInJlbG9hZCIsInRoZW4iLCJuZXdfZGF0YSIsInBhcnNlSW50IiwiYWxlcnRfYWN0aXZlIiwiZG9jdW1lbnQiLCJvbnZpc2liaWxpdHljaGFuZ2UiXSwic291cmNlUm9vdCI6IiJ9